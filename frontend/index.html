<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parking System</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <header>
      <h1>Parking System</h1>
      <nav>
        <a href="#" id="login-link">Login</a>
        <a href="#" id="register-link">Register</a>
        <button onclick="location.href='admin.html'">Go to Admin Page</button>
        <button id="profile-link">Profile</button>
        <h1 id="kto_to"></h1>
      </nav>
    </header>
    <main>
      <section id="parking-list">
        <h2>Available Parking Spots</h2>
        <ul id="parking-ul"></ul>
      </section>

      <!-- Login Form -->
      <section id="login-form" class="modal hidden">
        <div class="modal-content">
          <h2>Login</h2>
          <form id="login-form" method="POST">
            <label for="login-email">Email:</label>
            <input type="email" id="login-email" name="email" required />
            <label for="login-password">Password:</label>
            <input
              type="password"
              id="login-password"
              name="password"
              required
            />
            <button type="submit">Login</button>
            <button type="button" class="close-modal">Close</button>
          </form>
        </div>
      </section>

      <!-- Register Form -->
      <section id="register-form" class="modal hidden">
        <div class="modal-content">
          <h2>Register</h2>
          <form id="register-form2" method="POST">
            <label for="register-firstname">First Name:</label>
            <input
              type="text"
              id="register-firstname"
              name="firstname"
              required
            />
            <label for="register-lastname">Last Name:</label>
            <input
              type="text"
              id="register-lastname"
              name="lastname"
              required
            />
            <label for="register-email">Email:</label>
            <input type="email" id="register-email" name="email" required />
            <label for="register-password">Password:</label>
            <input
              type="password"
              id="register-password"
              name="password"
              required
            />
            <label for="register-phone">Phone:</label>
            <input type="text" id="register-phone" name="phone" />
            <label for="register-nip">NIP:</label>
            <input type="text" id="register-nip" name="nip" />
            <button type="submit">Register</button>
            <button type="button" class="close-modal">Close</button>
          </form>
          <div id="register-message"></div>
        </div>
      </section>

      <!-- Reservation Modal -->
      <section id="reservation-modal" class="modal hidden">
        <div class="modal-content">
          <h2>Make a Reservation</h2>
          <p id="reservation-parking-name"></p>
          <p id="reservation-parking-pricing"></p>
          <form id="reservation-form" method="POST">
            <input
              type="hidden"
              id="reservation-parking-id"
              name="parking_id"
            />

            <label>Vehicle:</label>
            <div id="vehicle-list"></div>

            <label for="reservation-date-end">End Date:</label>
            <input
              type="datetime-local"
              id="reservation-date-end"
              name="end_date"
              required
            />

            <label>Price Type:</label>
            <div>
              <input
                type="radio"
                id="price-hourly"
                name="price_type"
                value="Za godzinę"
                checked
              />
              <label for="price-hourly">Hourly</label>
              <input
                type="radio"
                id="price-daily"
                name="price_type"
                value="Za dzień"
              />
              <label for="price-daily">Daily</label>
              <input
                type="radio"
                id="price-monthly"
                name="price_type"
                value="Za miesiąc"
              />
              <label for="price-monthly">Monthly</label>
            </div>

            <p id="calculated-price">Price:</p>

            <button type="submit">Reserve</button>
            <button type="button" class="close-modal">Close</button>
          </form>
        </div>
      </section>

      <!-- User Profile Modal -->
      <section id="profile-modal" class="modal hidden">
        <div class="modal-content">
          <h2>User Profile</h2>
          <div id="vehicleListContainer">
            <h2>Twoje Pojazdy</h2>
            <ul id="vehicleList"></ul>
          </div>

          <div id="vehicleFormContainer">
            <h2>Dodaj pojazd</h2>
            <form id="addVehicleForm">
              <label for="nrRejestracyjny">Numer Rejestracyjny:</label>
              <input
                type="text"
                id="nrRejestracyjny"
                name="nrRejestracyjny"
                required
              /><br />

              <label for="marka">Marka:</label>
              <input type="text" id="marka" name="marka" required /><br />

              <label for="model">Model:</label>
              <input type="text" id="model" name="model" required /><br />

              <label for="typ">Typ:</label>
              <input type="text" id="typ" name="typ" required /><br />

              <button type="submit">Dodaj pojazd</button>
            </form>
          </div>
          <button type="button" class="close-modal">Close</button>
        </div>
      </section>
    </main>

    <script src="js/auth.js"></script>
    <script src="js/vehicles.js"></script>
    <script src="js/parking.js"></script>
    <script src="js/modals.js"></script>
    <script src="js/main.js"></script>
    <script src="js/ceny.js"></script>
  </body>
</html>
